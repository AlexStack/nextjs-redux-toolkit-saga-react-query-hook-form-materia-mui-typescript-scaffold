{"type_of":"article","id":1230783,"title":"Comment connecter mon appli Expo (React Native) √† mon projet Supabase","description":"Comment cr√©er une page d'inscription et connexion avec Supabase comme backend et Expo (React Native) pour la partie UI","readable_publish_date":"Oct 26","slug":"authentification-avec-supabase-dans-une-application-expo-react-native-bg4","path":"/sidali/authentification-avec-supabase-dans-une-application-expo-react-native-bg4","url":"https://dev.to/sidali/authentification-avec-supabase-dans-une-application-expo-react-native-bg4","comments_count":0,"public_reactions_count":2,"collection_id":null,"published_timestamp":"2022-10-26T11:52:33Z","positive_reactions_count":2,"cover_image":null,"social_image":"https://dev.to/social_previews/article/1230783.png","canonical_url":"https://dev.to/sidali/authentification-avec-supabase-dans-une-application-expo-react-native-bg4","created_at":"2022-10-26T11:52:33Z","edited_at":"2022-10-26T11:56:18Z","crossposted_at":null,"published_at":"2022-10-26T11:52:33Z","last_comment_at":"2022-10-26T11:52:33Z","reading_time_minutes":2,"tag_list":"react, reactnative, supabase, expo","tags":["react","reactnative","supabase","expo"],"body_html":"<h1>\n  <a name=\"mon-premier-projet-supabase\" href=\"#mon-premier-projet-supabase\">\n  </a>\n  Mon premier projet Supabase\n</h1>\n\n<p>Je me rends sur le site de <a href=\"\">Supabase</a></p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--HM-itOj3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3bov6row5evwkbdu95q9.png\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--HM-itOj3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3bov6row5evwkbdu95q9.png\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"504\"></a></p>\n\n<p>Le reste est easy, y'a qu'√† cr√©er un compte...etc... avec Github ca va vite en plus.</p>\n\n<p>Une fois le compte cr√©√©, je peux cr√©er un nouveau projet grace au bouton \"New project\" (quelle surprise! ü´¢)</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--XzaWXarx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ulr0cd1qjm3ud1myjluy.png\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--XzaWXarx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ulr0cd1qjm3ud1myjluy.png\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"841\"></a></p>\n\n<p>Moi je l'ai remplis comme ca vu que j'habite en France, si t'habite en Inde tu peux essayer de prendre une r√©gion plus proche sinon.</p>\n\n<p>Une fois que le projet est setup, je peux revenir vers mon application Expo (React Native) pour me connecter √† Supabase.</p>\n\n<h1>\n  <a name=\"installation-de-ce-quil-faut-cot%C3%A9-expo-react-native\" href=\"#installation-de-ce-quil-faut-cot%C3%A9-expo-react-native\">\n  </a>\n  Installation de ce qu'il faut cot√© Expo (React Native)\n</h1>\n\n<p>Dans mon terminal:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code>npm i @supabase/supabase-js react-native-url-polyfill @react-native-async-storage/async-storage\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Dans mon projet Expo(React Native), je cr√©er un fichier <code>supabase.ts</code>:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight typescript\"><code><span class=\"c1\">// supabase.ts</span>\n<span class=\"k\">import</span> <span class=\"dl\">\"</span><span class=\"s2\">react-native-url-polyfill/auto</span><span class=\"dl\">\"</span>\n<span class=\"k\">import</span> <span class=\"nx\">AsyncStorage</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">@react-native-async-storage/async-storage</span><span class=\"dl\">\"</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">createClient</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"dl\">\"</span><span class=\"s2\">@supabase/supabase-js</span><span class=\"dl\">\"</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">supabaseUrl</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">MON_URL_SUPABASE</span><span class=\"dl\">\"</span>\n<span class=\"kd\">const</span> <span class=\"nx\">supabaseKey</span> <span class=\"o\">=</span> <span class=\"dl\">\"</span><span class=\"s2\">MA_KEY_SUPABASE</span><span class=\"dl\">\"</span>\n<span class=\"kd\">const</span> <span class=\"nx\">supabase</span> <span class=\"o\">=</span> <span class=\"nx\">createClient</span><span class=\"p\">(</span><span class=\"nx\">supabaseUrl</span><span class=\"p\">,</span> <span class=\"nx\">supabaseKey</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">auth</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">storage</span><span class=\"p\">:</span> <span class=\"nx\">AsyncStorage</span><span class=\"p\">,</span>\n    <span class=\"na\">autoRefreshToken</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"na\">persistSession</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"na\">detectSessionInUrl</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n<span class=\"p\">})</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"nx\">supabase</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Pas de panique, je vais te montrer o√π se trouvent l'<code>URL</code> et la <code>KEY</code>:</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--uXroMmbd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jto6gsl75nph8llugmz3.png\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--uXroMmbd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jto6gsl75nph8llugmz3.png\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"505\"></a></p>\n\n<p>Juste pour etre sur que tout fonctionne, on va se cr√©er une table factice dans la BDD (base de donn√©e):</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--5XQ5nSPx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xt5yel47kzpd9dzvd24v.gif\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--5XQ5nSPx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xt5yel47kzpd9dzvd24v.gif\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"495\" data-animated=\"true\"></a></p>\n\n<p>J'y ajoute un plat (j'ai faim)</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--0pLxYJFQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zdmdko8qync6epz6nids.gif\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--0pLxYJFQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zdmdko8qync6epz6nids.gif\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"495\" data-animated=\"true\"></a></p>\n\n<p>Voyons voir si ton fonctionne, direct dans <code>TabOneScreen.tsx</code>:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight tsx\"><code>\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"kd\">function</span> <span class=\"nx\">TabOneScreen</span><span class=\"p\">({</span>\n  <span class=\"nx\">navigation</span><span class=\"p\">,</span>\n<span class=\"p\">}:</span> <span class=\"nx\">RootTabScreenProps</span><span class=\"o\">&lt;</span><span class=\"dl\">\"</span><span class=\"s2\">TabOne</span><span class=\"dl\">\"</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"k\">async</span> <span class=\"kd\">function</span> <span class=\"nx\">load_plats</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"p\">{</span> <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"nx\">plats</span><span class=\"p\">,</span> <span class=\"nx\">error</span> <span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">supabase</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">plats</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">select</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">*</span><span class=\"dl\">\"</span><span class=\"p\">)</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">plats</span><span class=\"p\">,</span> <span class=\"nx\">error</span><span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">useEffect</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">load_plats</span><span class=\"p\">()</span>\n  <span class=\"p\">},</span> <span class=\"p\">[])</span>\n  <span class=\"k\">return</span> <span class=\"p\">(</span>\n    <span class=\"p\">&lt;</span><span class=\"nc\">Layout</span> <span class=\"na\">style</span><span class=\"p\">=</span><span class=\"si\">{</span><span class=\"p\">{</span> <span class=\"na\">flex</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"na\">justifyContent</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">center</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"na\">alignItems</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">center</span><span class=\"dl\">\"</span> <span class=\"p\">}</span><span class=\"si\">}</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;</span><span class=\"nc\">Text</span> <span class=\"na\">category</span><span class=\"p\">=</span><span class=\"s\">\"h1\"</span><span class=\"p\">&gt;</span>Connexion<span class=\"p\">&lt;/</span><span class=\"nc\">Text</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;</span><span class=\"nc\">Button</span>\n        <span class=\"na\">accessoryLeft</span><span class=\"p\">=</span><span class=\"si\">{</span><span class=\"nx\">FacebookIcon</span><span class=\"si\">}</span>\n        <span class=\"na\">onPress</span><span class=\"p\">=</span><span class=\"si\">{</span><span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">Mais qui utilise encore Fessebook!</span><span class=\"dl\">\"</span><span class=\"p\">)</span><span class=\"si\">}</span>\n      <span class=\"p\">&gt;</span>\n        Me connecter avec Fessebook\n      <span class=\"p\">&lt;/</span><span class=\"nc\">Button</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nc\">Layout</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Puis lorsque je refresh, j'ai...</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--frEVSTJ4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/kkoa6r42x0xzr2xfvn97.gif\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--frEVSTJ4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/kkoa6r42x0xzr2xfvn97.gif\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"495\" data-animated=\"true\"></a></p>\n\n<p>Que dalle, eh oui, lorsque j'ai cr√©√© ma table, j'ai oubli√© (quel accident!) un petit truc:</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--oOCrbeND--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2r81fj7n6xnvvsl0aqr9.gif\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--oOCrbeND--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2r81fj7n6xnvvsl0aqr9.gif\" alt=\"Image description\" loading=\"lazy\" width=\"\" height=\"\"></a></p>\n\n<p>Et normalement c'est good:<br>\n<a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--cnBgHXu9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/eniecbkuxy24f1gh3dam.gif\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--cnBgHXu9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/eniecbkuxy24f1gh3dam.gif\" alt=\"Image description\" loading=\"lazy\" width=\"880\" height=\"495\" data-animated=\"true\"></a></p>\n\n<p>Voici le code du composant, rien de fifou:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight tsx\"><code><span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"kd\">function</span> <span class=\"nx\">TabOneScreen</span><span class=\"p\">({</span>\n  <span class=\"nx\">navigation</span><span class=\"p\">,</span>\n<span class=\"p\">}:</span> <span class=\"nx\">RootTabScreenProps</span><span class=\"o\">&lt;</span><span class=\"dl\">\"</span><span class=\"s2\">TabOne</span><span class=\"dl\">\"</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"p\">[</span><span class=\"nx\">dishes</span><span class=\"p\">,</span> <span class=\"nx\">setDishes</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">useState</span><span class=\"o\">&lt;</span><span class=\"kr\">any</span><span class=\"o\">&gt;</span><span class=\"p\">([])</span>\n  <span class=\"k\">async</span> <span class=\"kd\">function</span> <span class=\"nx\">load_plats</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"p\">{</span> <span class=\"na\">data</span><span class=\"p\">:</span> <span class=\"nx\">plats</span><span class=\"p\">,</span> <span class=\"nx\">error</span> <span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">supabase</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">plats</span><span class=\"dl\">\"</span><span class=\"p\">).</span><span class=\"nx\">select</span><span class=\"p\">(</span><span class=\"dl\">\"</span><span class=\"s2\">*</span><span class=\"dl\">\"</span><span class=\"p\">)</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">plats</span><span class=\"p\">,</span> <span class=\"nx\">error</span><span class=\"p\">)</span>\n    <span class=\"nx\">setDishes</span><span class=\"p\">(</span><span class=\"nx\">plats</span><span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">useEffect</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">load_plats</span><span class=\"p\">()</span>\n  <span class=\"p\">},</span> <span class=\"p\">[])</span>\n\n  <span class=\"k\">return</span> <span class=\"p\">(</span>\n    <span class=\"p\">&lt;</span><span class=\"nc\">Layout</span> <span class=\"na\">style</span><span class=\"p\">=</span><span class=\"si\">{</span><span class=\"p\">{</span> <span class=\"na\">flex</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"na\">justifyContent</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">center</span><span class=\"dl\">\"</span><span class=\"p\">,</span> <span class=\"na\">alignItems</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">center</span><span class=\"dl\">\"</span> <span class=\"p\">}</span><span class=\"si\">}</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;</span><span class=\"nc\">Text</span> <span class=\"na\">category</span><span class=\"p\">=</span><span class=\"s\">\"h3\"</span><span class=\"p\">&gt;</span><span class=\"si\">{</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">dishes</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"p\">&lt;/</span><span class=\"nc\">Text</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nc\">Layout</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n<hr>\n\n<p>PS : Si vous √™tes int√©ress√© par la secu et le time management, go check <a class=\"mentioned-user\" href=\"https://dev.to/boutvalentin\">@boutvalentin</a> et ses articles / formations faits avec ‚ù§Ô∏è (et passion) sur tous ses sujets.<br>\nPSS : Si vous √™tes int√©ress√© par la Cybers√©curit√©, go check <a class=\"mentioned-user\" href=\"https://dev.to/emiliebout\">@emiliebout</a> et ses articles / formations faits avec passion (et ‚ù§Ô∏è) sur tous ses sujets.</p>\n\n","body_markdown":"---\ntitle: Comment connecter mon appli Expo (React Native) √† mon projet Supabase\npublished: true\ndescription: Comment cr√©er une page d'inscription et connexion avec Supabase comme backend et Expo (React Native) pour la partie UI\ntags: react, reactnative, supabase, expo\n# cover_image: https://direct_url_to_image.jpg\n# Use a ratio of 100:42 for best results.\n# published_at: 2022-10-26 10:34 +0000\n---\n\n\n# Mon premier projet Supabase\nJe me rends sur le site de [Supabase]()\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3bov6row5evwkbdu95q9.png)\n\nLe reste est easy, y'a qu'√† cr√©er un compte...etc... avec Github ca va vite en plus.\n\nUne fois le compte cr√©√©, je peux cr√©er un nouveau projet grace au bouton \"New project\" (quelle surprise! ü´¢)\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ulr0cd1qjm3ud1myjluy.png)\n\nMoi je l'ai remplis comme ca vu que j'habite en France, si t'habite en Inde tu peux essayer de prendre une r√©gion plus proche sinon.\n\nUne fois que le projet est setup, je peux revenir vers mon application Expo (React Native) pour me connecter √† Supabase.\n \n# Installation de ce qu'il faut cot√© Expo (React Native)\nDans mon terminal:\n```bash\nnpm i @supabase/supabase-js react-native-url-polyfill @react-native-async-storage/async-storage\n```\nDans mon projet Expo(React Native), je cr√©er un fichier `supabase.ts`:\n```ts\n// supabase.ts\nimport \"react-native-url-polyfill/auto\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\n\nimport { createClient } from \"@supabase/supabase-js\"\n\nconst supabaseUrl = \"MON_URL_SUPABASE\"\nconst supabaseKey = \"MA_KEY_SUPABASE\"\nconst supabase = createClient(supabaseUrl, supabaseKey, {\n  auth: {\n    storage: AsyncStorage,\n    autoRefreshToken: true,\n    persistSession: true,\n    detectSessionInUrl: false,\n  },\n})\n\nexport default supabase\n```\n\nPas de panique, je vais te montrer o√π se trouvent l'`URL` et la `KEY`:\n\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jto6gsl75nph8llugmz3.png)\n\nJuste pour etre sur que tout fonctionne, on va se cr√©er une table factice dans la BDD (base de donn√©e):\n\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xt5yel47kzpd9dzvd24v.gif)\n\nJ'y ajoute un plat (j'ai faim)\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zdmdko8qync6epz6nids.gif)\n\nVoyons voir si ton fonctionne, direct dans `TabOneScreen.tsx`:\n\n```tsx\n\nexport default function TabOneScreen({\n  navigation,\n}: RootTabScreenProps<\"TabOne\">) {\n  async function load_plats() {\n    let { data: plats, error } = await supabase.from(\"plats\").select(\"*\")\n    console.log(plats, error)\n  }\n\n  useEffect(() => {\n    load_plats()\n  }, [])\n  return (\n    <Layout style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n      <Text category=\"h1\">Connexion</Text>\n      <Button\n        accessoryLeft={FacebookIcon}\n        onPress={() => alert(\"Mais qui utilise encore Fessebook!\")}\n      >\n        Me connecter avec Fessebook\n      </Button>\n    </Layout>\n  )\n}\n```\n\nPuis lorsque je refresh, j'ai...\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/kkoa6r42x0xzr2xfvn97.gif)\n\nQue dalle, eh oui, lorsque j'ai cr√©√© ma table, j'ai oubli√© (quel accident!) un petit truc:\n\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2r81fj7n6xnvvsl0aqr9.gif)\n\nEt normalement c'est good:\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/eniecbkuxy24f1gh3dam.gif)\n\nVoici le code du composant, rien de fifou:\n```tsx\nexport default function TabOneScreen({\n  navigation,\n}: RootTabScreenProps<\"TabOne\">) {\n  const [dishes, setDishes] = useState<any>([])\n  async function load_plats() {\n    let { data: plats, error } = await supabase.from(\"plats\").select(\"*\")\n    console.log(plats, error)\n    setDishes(plats)\n  }\n\n  useEffect(() => {\n    load_plats()\n  }, [])\n\n  return (\n    <Layout style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n      <Text category=\"h3\">{JSON.stringify(dishes)}</Text>\n    </Layout>\n  )\n}\n```\n\n\n--------------------------------------------------------------\n\nPS : Si vous √™tes int√©ress√© par la secu et le time management, go check @boutvalentin et ses articles / formations faits avec ‚ù§Ô∏è (et passion) sur tous ses sujets.\nPSS : Si vous √™tes int√©ress√© par la Cybers√©curit√©, go check @emiliebout et ses articles / formations faits avec passion (et ‚ù§Ô∏è) sur tous ses sujets.\n\n\n\n\n\n\n\n\n","user":{"name":"Sid Ali BENTIFRAOUINE","username":"sidali","twitter_username":"sidalidev","github_username":"sidalidev","user_id":131824,"website_url":"https://www.sidali.dev","profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--Vvh_0t_c--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/131824/2b7fd73b-e596-4806-bf77-f2c32eaed7a3.png","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s--vkT6_KiT--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/131824/2b7fd73b-e596-4806-bf77-f2c32eaed7a3.png"}}